# Common role - tasks applied to all hosts
#
# This role contains baseline configuration that every host should have.
# Customize for your environment.

---
- name: Gather facts
  ansible.builtin.setup:
  tags: [common, facts]

- name: Display OS information
  ansible.builtin.debug:
    msg: "{{ ansible_facts['distribution'] }} {{ ansible_facts['distribution_version'] }}"
  tags: [common, info]

- name: Display system summary
  ansible.builtin.debug:
    msg: |
      Hostname: {{ ansible_facts['fqdn'] }}
      OS: {{ ansible_facts['distribution'] }} {{ ansible_facts['distribution_version'] }}
      Kernel: {{ ansible_facts['kernel'] }}
      CPUs: {{ ansible_facts['processor_vcpus'] }}
      Memory: {{ ansible_facts['memtotal_mb'] }}MB
  tags: [common, info, summary]

# Add your common tasks below
# Examples:
#
# - name: Ensure common packages are installed
#   ansible.builtin.package:
#     name:
#       - curl
#       - vim
#       - htop
#     state: present
#   tags: [common, packages]
#
# - name: Ensure time synchronization is configured
#   ansible.builtin.service:
#     name: chronyd
#     state: started
#     enabled: true
#   tags: [common, time]
